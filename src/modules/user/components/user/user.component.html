<sb-layout-dashboard>
    <sb-dashboard-head title="Usuarios" [hideBreadcrumbs]="false"></sb-dashboard-head>
    <sb-card>
        <div class="card-header">
            <ng-container ktPortletTools>
                <a mat-raised-button class="btn btn-primary" matTooltip="Crear usuario"
                    routerLink="./add">
                    <span>Nuevo</span>
                </a>
            </ng-container>
            <!-- <fa-icon class="mr-1" [icon]='["fas", "chart-pie"]'></fa-icon>Listado -->
        </div>
        <div class="card-body">
            <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
                <ng-container matColumnDef="username">
                  <th mat-header-cell *matHeaderCellDef> Usuario </th>
                  <td mat-cell *matCellDef="let element"> {{element.username}} </td>
                </ng-container>
              
                <!-- Name Column -->
                <ng-container matColumnDef="roles">
                  <th mat-header-cell *matHeaderCellDef> Roles </th>
                  <td mat-cell *matCellDef="let element"> {{element.roles}} </td>
                </ng-container>
              
                <!-- Weight Column -->
                <ng-container matColumnDef="status">
                  <th mat-header-cell *matHeaderCellDef> Estado </th>
                  <td mat-cell *matCellDef="let element"> 
                    <mat-icon *ngIf="element.status == 'Vigente'" color="primary">check</mat-icon>
                    <mat-icon *ngIf="element.status == 'No Vigente'" color="warn">close</mat-icon>
                  </td>
                </ng-container>
              
                <ng-container matColumnDef="actions">
                    <mat-header-cell class="justify-content-center" *matHeaderCellDef>
                        ACCIONES
                    </mat-header-cell>
                    
                    <mat-cell class="justify-content-center" *matCellDef="let element">
                        <button mat-icon-button class="edit-color" matTooltip="Editar"
                            routerLink="./edit/{{element.id}}">
                            <mat-icon class="font-weight-boldest">create</mat-icon>
                        </button>
                        <button mat-icon-button class="delete-color" matTooltip="Eliminar"
                            (click)="onDelele(element.id, element.username)">
                            <mat-icon class="font-weight-boldest">delete</mat-icon>
                        </button>&nbsp;
                    </mat-cell>
                </ng-container>
              
                <tr mat-header-row *matHeaderRowDef="userDisplayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: userDisplayedColumns;"></tr>
              </table>
              <mat-paginator [pageSizeOptions]="[5, 10, 15]" showFirstLastButtons></mat-paginator>
        </div>
        <div class="card-footer small text-muted">Actualizado ayer a las 11:59 PM</div></sb-card
    ></sb-layout-dashboard
>